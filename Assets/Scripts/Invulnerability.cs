using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Invulnerability : MonoBehaviour {

	Renderer rend;
	Color c;

	// Use this for initialization
	void Start () {
		rend = GetComponent<Renderer> ();
		c = rend.material.color;
	}

	void OnTriggerEnter2D (Collider2D other)
	{
      if (other.gameObject.layer == LayerMask.NameToLayer("shootable") && PlayerHealth.currentHealth > 0)
         StartCoroutine ("GetInvulnerable");
	}

	IEnumerator GetInvulnerable()
	{
		Physics2D.IgnoreLayerCollision (0, 9, true);
		c.a = 0.5f;
		rend.material.color = c;
		yield return new WaitForSeconds (0.5f);
		Physics2D.IgnoreLayerCollision (0, 9, false);
		c.a = 1f;
		rend.material.color = c;
	}

}
